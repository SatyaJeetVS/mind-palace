<div class="app-container">
  <header class="app-header">
    <div class="logo">
      <h1>Mind Palace</h1>
    </div>
  </header>
  
  <!-- Edge detector for left edge of screen -->
  <div class="edge-detector" (mouseenter)="openSidebar()"></div>
  
  <div class="sidebar-container" (mouseleave)="closeSidebar()">
    <div class="sidebar" [class.active]="sidebarOpen">
      <div class="sidebar-header">
        <div class="close-btn" (click)="toggleSidebar()">×</div>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <li><a routerLink="/dashboard" routerLinkActive="active" (click)="closeSidebar()">Learning Hub</a></li>
          <li class="dropdown-container" (mouseenter)="showTopics()" (mouseleave)="hideTopics()">
            <a routerLink="/topics" routerLinkActive="active">
              Topics
              <span class="dropdown-indicator" [class.rotated]="showTopicsDropdown">▶</span>
            </a>
            <div class="dropdown-menu" [class.show]="showTopicsDropdown">
              <div class="dropdown-header">Topics under this subject</div>
              <div class="dropdown-item" 
                   *ngFor="let topic of topics" 
                   (click)="navigateToTopic(topic.id)"
                   [class.active]="currentTopicId === topic.id">
                {{ topic.title }}
              </div>
            </div>
          </li>
          <li><a routerLink="/profile" routerLinkActive="active" (click)="closeSidebar()">My profile</a></li>
        </ul>
      </nav>
    </div>
    
    <div class="menu-toggle" (mouseenter)="openSidebar()" (click)="toggleSidebar()">
      <span class="burger-icon"></span>
    </div>
  </div>
  
  <div class="overlay" [class.active]="sidebarOpen" (click)="closeSidebar()"></div>
  
  <main class="app-content">
    <router-outlet></router-outlet>
  </main>
  
  <footer class="app-footer">
    <p>&copy; 2023 Mind Palace. All rights reserved.</p>
  </footer>
</div> 